{"version":3,"sources":["utils/regexes.ts","components/Titlebar.tsx","utils/auth.ts","components/TextGallery.tsx","components/Image.tsx","App.tsx","serviceWorker.ts","index.tsx","css/components.module.css"],"names":["mobile","Titlebar","props","className","src","alt","str","navigator","userAgent","vendor","regexes","test","substr","isMobile","map","b","href","target","rel","onClick","setID","TextGallery","useState","index","setIndex","useReducer","state","action","setTimeout","setHasClicked","hasClicked","length","children","dots","i","push","key","join","updateIndex","useCallback","x","autoAdvance","clearTimeout","useEffect","style","left","c","Album","mapToPhoto","source","url","resolve","process","srcSet","width","ratio","height","title","currentImage","setCurrentImage","viewerIsOpen","setViewerIsOpen","photos","openLightbox","event","photo","type","styles","grid","carousel","enableLightbox","margin","columns","targetRowHeight","onClickItem","infiniteLoop","useKeyboardArrows","showStatus","emulateTouch","axis","autoPlay","selectedItem","showThumbs","interval","transitionTime","centerMode","dynamicHeight","toString","onClose","currentIndex","views","caption","App","hash","window","location","slice","id","body","document","getElementsByTagName","toLowerCase","element","getElementById","scrollTo","top","offsetTop","innerHeight","behavior","scrollToID","backgroundColor","display","Boolean","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","then","registration","unregister","catch","error","console","message","module","exports"],"mappings":"kLAeaA,G,MAAS,CACrB,2TACA,8hDCVc,SAASC,EAASC,GAI7B,OACI,yBAAKC,UAAU,UACX,yBAAKA,UAAU,eACX,yBACIC,IAA8B,sBAC9BD,UAAU,OACVE,IAAI,UCfjB,WACN,IAAIC,EAAcC,UAAUC,WAAaD,UAAUE,QAAU,GAC7D,QAAIC,EAAe,GAAGC,KAAKL,MACvBI,EAAe,GAAGC,KAAKL,EAAIM,OAAO,EAAG,IDe7BC,GAAa,KAAO,oCACjB,yBAAKV,UAAU,eACX,yBAAKA,UAAU,QACX,0BAAMA,UAAU,QAAhB,cADJ,iCAIJ,yBAAKA,UAAU,mBAjBX,CAAC,OAAQ,WAAY,UAAW,YAAa,SAkBpCW,KAAI,SAACC,GACV,MAAU,YAANA,EAAwB,uBACxBZ,UAAU,SACVa,KAAK,gCACLC,OAAO,SACPC,IAAI,uBAEHH,GAUE,uBACHZ,UAAU,SACVgB,QAAS,kBAAMjB,EAAMkB,MAAML,KAE1BA,SEzCd,SAASM,EAAYnB,GAWhC,IAXwE,IAAD,EAE7CoB,mBAAS,GAFoC,mBAEhEC,EAFgE,KAEzDC,EAFyD,OAGnCC,sBAAW,SAACC,EAAgBC,GAE5D,OADIA,GAAQC,YAAW,kBAAMC,GAAc,KAAQ,KAC5CF,KACR,GANoE,mBAGhEG,EAHgE,KAGpDD,EAHoD,KAOnEE,EAAS7B,EAAM8B,SAAW9B,EAAM8B,SAASD,OAAS,EAElDE,EAAO,GACPD,EAAW9B,EAAM8B,UAAY,GAVsC,WAW9DE,GACLD,EAAKE,KAAK,0BACNC,IAAK,CAAC,cAAe,MAAOF,GAAGG,KAAK,KACpClC,UAAW,CAAC,MAAO+B,IAAMX,EAAQ,cAAgB,IAAIc,KAAK,KAC1DlB,QAAS,WACLK,EAASU,GACTL,GAAc,QANjBK,EAAI,EAAGA,EAAIF,EAASD,OAAQG,IAAM,EAAlCA,GAWT,IAAMI,EAAcC,uBAAY,WAE5B,IAAIC,EADJ,GAAKtC,EAAMuC,YAGX,OADKX,IAAYU,EAAIZ,YAAW,kBAAMJ,GAAUD,EAAQ,GAAKQ,KAAS7B,EAAMuC,cACrE,WACHC,aAAaF,MAElB,CAACjB,EAAOQ,EAAQ7B,EAAMuC,YAAaX,IAItC,OAFAa,oBAAUL,EAAa,CAACA,IAGpB,yBAAKnC,UAAU,eACX,yBAAKA,UAAU,QAAQyC,MAAO,CAC1BC,KAAK,gBAAD,OAAkBtB,EAAlB,OAEHS,EAASlB,KAAI,SAACgC,EAAGZ,GAAJ,OAAU,yBAAKE,IAAK,CAAC,cAAe,QAASF,GAAGG,KAAK,MAAOS,OAE9E,yBAAK3C,UAAU,aACV8B,I,sFCRF,SAASc,EAAM7C,GAE1B,IAAM8C,EAAaT,uBAAY,SAACnC,EAAamB,GAC/C,MAAO,CACNA,QACA0B,OAAQC,IAAIC,QAAQC,GAAwBhD,GAC5CA,IAAK8C,IAAIC,QAAQC,GAAwBhD,GACzCiD,OAAQH,IAAIC,QAAQC,GAAwBhD,GAC5CkD,MAAOpD,EAAMqD,MAAM,GACnBC,OAAQtD,EAAMqD,MAAM,GACpBE,MAAOrD,KAEN,CAACF,EAAMqD,QAZsC,EAcRjC,mBAAS,GAdD,mBAczCoC,EAdyC,KAc3BC,EAd2B,OAeRrC,oBAAS,GAfD,mBAezCsC,EAfyC,KAe3BC,EAf2B,OAgBpBvC,mBAASpB,EAAM4D,OAAOhD,IAAIkC,IAhBN,mBAgBzCc,EAhByC,KAkB1CC,GAlB0C,KAkB3BxB,uBAAY,SAACyB,EAAD,GAA6B,EAAnBC,MAAoB,IAAb1C,EAAY,EAAZA,MACjDoC,EAAgBpC,GAChBsC,GAAgB,KACd,KAOH,OACC,yBACC1D,UAA0B,SAAfD,EAAMgE,KAAkBC,IAAOC,KAAOD,IAAOE,UAEtDP,EAAO/B,OAA+B,SAAf7B,EAAMgE,KAC9B,kBAAC,IAAD,CACCJ,OAAQA,EACR3C,SAAkC,IAAzBjB,EAAMoE,eAA2BP,EAAe,aACzDQ,OAAQrE,EAAMqE,QAAU,EACxBC,QAAS,EACTC,gBAAiBvE,EAAMsD,QAAU,MAElC,kBAAC,WAAD,CACCkB,aAAsC,IAAzBxE,EAAMoE,eAA2BP,EAAe,aAC7DY,cAAc,EACdC,mBAAmB,EACnBC,YAAY,EACZC,cAAc,EACdC,KAAM7E,EAAM6E,MAAQ,aACpBC,UAA6B,IAAnB9E,EAAM8E,SAChB1B,MAAO,OACP2B,aAAc/E,EAAM+E,cAAgB,EACpCC,YAAiC,IAArBhF,EAAMgF,WAClBC,SAAUjF,EAAMiF,UAAY,IAC5BC,eAAgBlF,EAAMkF,gBAAkB,IACxCC,WAAYnF,EAAMmF,aAAc,EAChCC,cAAepF,EAAMoF,gBAAiB,GAErCxB,EAAOhD,KAAI,SAAC0B,EAAGN,GACf,OAAKM,EAEJ,yBAAKJ,IAAKI,EAAEpC,IAAM,IAAM8B,EAAEqD,YACzB,yBACCnF,IAAKoC,EAAEpC,IACPC,IAAKmC,EAAEnC,OALK,SAzBA,MAqCQ,IAAzBH,EAAMoE,eACN,kBAAC,IAAD,KACGV,EACD,kBAAC,IAAD,CAAO4B,QAjDU,WACrB7B,EAAgB,GAChBE,GAAgB,KAgDX,kBAAC,IAAD,CACC4B,aAAc/B,EACdgC,MAAO5B,EAAOhD,KAAI,SAAA0B,GAAC,sBACfA,EADe,CAElBmD,QAASnD,EAAEiB,cANG,MAYhB,MC+EQmC,MApLf,WAEI,IAAIC,EAAOC,OAAOC,SAASF,KAAKG,MAAM,GAFb,EAGL1E,mBAASuE,GAHJ,mBAGlBI,EAHkB,KAGd7E,EAHc,KAIrB8E,EAAOC,SAASC,qBAAqB,QAAQ,GAMpD,OAJGzD,qBAAU,YArBd,YAA6C,IAAvBsD,EAAsB,EAAtBA,GAKlB,GAHyB,SAArBA,EAAGI,cAA0BP,OAAOC,SAASF,KAAO,GACnDC,OAAOC,SAASF,KAAO,IAAMI,EAAGI,cAC1BF,SAASC,qBAAqB,QAAQ,GACjD,CACA,IAAIE,EAAUH,SAASI,eAAe,WAAaN,EAAGI,eACjDC,GACLR,OAAOU,SAAS,CACZC,IAAKH,EAAQI,UAAkC,IAArBZ,OAAOa,YACjC9D,KAAM,EACN+D,SAAU,YAWVC,CAAW,CAAEZ,SACd,CAACA,EAAIC,IAGV,yBAAK/F,UAAU,OAEL,kBAACF,EAAD,CAAUmB,MAAOA,IAEjB,yBAAK6E,GAAG,eAAe9F,UAAU,UAAUyC,MAAO,CAC1CkE,gBAAiB,YAErB,yBAAK3G,UAAU,cACf,kBAAC4C,EAAD,CACImB,KAAK,WACLI,gBAAgB,EAChBR,OAAQ,CACJ,0BACA,mCAEJP,MAAO,CAAC,GAAI,GACZC,OAAQ,OAIhB,yBAAKyC,GAAG,mBAAmB9F,UAAU,UAAUyC,MAAO,CAC9CkE,gBAAiB,oBAErB,yBAAK3G,UAAU,aAAf,YAGA,yBAAKA,UAAU,cACX,4BACI,mHACA,0EACA,4BAAI,0BAAMA,UAAU,QAAhB,cAAJ,yDAER,yBAAKyC,MAAO,CAACU,MAAO,OAAQyD,QAAS,SAArC,sEACI,4BACI,sEACA,uEACA,mFACA,wFACA,kHAGR,kBAAC1F,EAAD,CAAaoB,YAAa,KACtB,6BACI,sCACA,uJAEJ,6BACI,0CACA,uPAEJ,6BACI,yCACA,2KA2BZ,yBAAKwD,GAAG,oBAAoB9F,UAAU,UAAUyC,MAAO,CAC/CkE,gBAAiB,YAErB,yBAAK3G,UAAU,aAAf,aAGA,yBAAKA,UAAU,cACX,2CACA,sGACA,yBAAKA,UAAU,aACX,yBAAKC,IAA8B,qBAAsBC,IAAI,UAC7D,uBAAGF,UAAU,eAAea,KAAM,kCAC9B,yBAAKb,UAAU,iBAAf,oBACA,uDAGR,yBAAKA,UAAU,aACX,yBAAKC,IAA8B,oBAAqBC,IAAI,UAC5D,uBAAGF,UAAU,eAAea,KAAM,oDAC9B,yBAAKb,UAAU,iBAAf,eACA,kDAIZ,yBAAKA,UAAU,cACX,0CACA,kHAAuF,uBAAGA,UAAU,aAAaa,KAAK,mEAAmEC,OAAO,SAASC,IAAI,uBAAtH,SAAvF,6EACA,4BACI,4BAAI,0BAAMf,UAAU,QAAhB,sBAAJ,6KACA,4BAAI,0BAAMA,UAAU,QAAhB,qCAAJ,0HACA,4BAAI,0BAAMA,UAAU,QAAhB,4BAAJ,yHACA,4BAAI,0BAAMA,UAAU,QAAhB,iBAAJ,iKACA,4BAAI,0BAAMA,UAAU,QAAhB,iCAAJ,8OAEJ,yBAAKA,UAAU,aACX,uBAAGA,UAAU,sBAAsBa,KAAM,oEACrC,sDAIZ,yBAAKb,UAAU,cACX,4EAAiD,uBAAGA,UAAU,aAAaa,KAAK,gCAAgCC,OAAO,SAASC,IAAI,uBAAnF,oBAOzD,yBAAK+E,GAAG,gBAAgB9F,UAAU,UAAUyC,MAAO,CAC3CkE,gBAAiB,kBAErB,yBAAK3G,UAAU,aAAf,SAGA,gdACA,4BACI,4BAAI,uBAAGA,UAAU,aAAaa,KAAK,+BAA+BC,OAAO,SAASC,IAAI,uBAAlF,gCAAJ,sDACA,4BAAI,uBAAGf,UAAU,aAAaa,KAAK,gCAAgCC,OAAO,SAASC,IAAI,uBAAnF,UAAJ,gJACA,4BAAI,uBAAGf,UAAU,aAAaa,KAAK,oCAAoCC,OAAO,SAASC,IAAI,uBAAvF,cAAJ,iDACA,4BAAI,uBAAGf,UAAU,aAAaa,KAAK,uCAAuCC,OAAO,SAASC,IAAI,uBAA1F,WAAJ,gDAEJ,2FAAgE,uBAAGf,UAAU,aAAaa,KAAK,2EAA2EC,OAAO,SAASC,IAAI,uBAA9H,UAAhE,iLAEJ,yBAAKf,UAAU,UACX,yBAAKA,UAAU,SACX,uBAAGa,KAAK,mCAAmCC,OAAO,SAASC,IAAI,uBAC3D,kBAAC,IAAD,OAEJ,uBAAGF,KAAK,sCAAsCC,OAAO,SAASC,IAAI,uBAC9D,kBAAC,IAAD,OAEJ,uBAAGF,KAAK,0BAA0BC,OAAO,SAASC,IAAI,uBAClD,yBAAKd,IAA8B,qBAAsBC,IAAI,aAEjE,uBAAGW,KAAK,iCAAiCC,OAAO,SAASC,IAAI,uBACzD,yBAAKd,IAA8B,qBAAsBC,IAAI,kBAEjE,uBAAGW,KAAK,mEAAmEC,OAAO,SAASC,IAAI,uBAC3F,yBAAKd,IAA8B,oBAAqBC,IAAI,mBAEhE,uBAAGW,KAAK,gCAAgCC,OAAO,SAASC,IAAI,uBACxD,yBAAKd,IAA8B,mBAAoBC,IAAI,YAGnE,yBAAKF,UAAU,UAAf,mCCxLI6G,QACU,cAA7BlB,OAAOC,SAASkB,UAEc,UAA7BnB,OAAOC,SAASkB,UAEhBnB,OAAOC,SAASkB,SAASC,MACxB,2DCZHC,IAASC,OACR,kBAAC,IAAMC,WAAP,KACC,kBAAC,EAAD,OAEDlB,SAASI,eAAe,SDiIpB,kBAAmBhG,WACtBA,UAAU+G,cAAcC,MACtBC,MAAK,SAAAC,GACLA,EAAaC,gBAEbC,OAAM,SAAAC,GACNC,QAAQD,MAAMA,EAAME,a,mBEhJxBC,EAAOC,QAAU,CAAC,KAAO,yBAAyB,SAAW,+B","file":"static/js/main.38b29ac8.chunk.js","sourcesContent":["\nexport const space = /\\s+/g;\n\nexport const letters = /\\w+/g;\n\nexport const image = /<img\\s+.*?src=[\"'](.*).*?\">/;\n\nexport const date = /^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}_/;\n\nexport const href = /^(https?:)?\\/\\//;\n\nexport const newLine = /\\n+/g;\n\nexport const newLineString = /\\\\n+/g;\n\nexport const mobile = [\n\t/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,\n\t/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i\n];\n\nexport const imageExt = /(gif|jpe?g|tiff|png|webp|bmp)$/i;","import React, { ReactElement, Dispatch, SetStateAction } from 'react';\nimport { isMobile } from '../utils/auth';\n\nexport interface TitlebarProps {\n    setID: Dispatch<SetStateAction<string>>\n}\n\nexport default function Titlebar(props: TitlebarProps): ReactElement {\n\n    const buttons = ['Home', 'Features', 'Preview', 'Downloads', 'About']\n\n    return (\n        <div className='header'>\n            <div className='logoWrapper'>\n                <img\n                    src={process.env.PUBLIC_URL + '/images/favicon.png'}\n                    className='logo'\n                    alt='logo'\n                />\n            </div>\n            {isMobile() ? null : <>\n                <div className='nameWrapper'>\n                    <div className='name'>\n                        <span className='bold'>Tournament</span> by Oxford Chess Development\n                    </div>\n                </div>\n                <div className='buttonContainer'>\n                    {buttons.map((b) => {\n                        if (b === 'Preview') return <a\n                            className='button'\n                            href='http://beta.oxfordchess.co.uk'\n                            target='_blank'\n                            rel='noopener noreferrer'\n                        >\n                            {b}\n                        </a>\n                        /*if (b === 'Downloads') return <a\n                            className='button'\n                            href='http://repo.oxfordchess.co.uk'\n                            target='_blank'\n                            rel='nooopener noreferrer'\n                        >\n                            {b}\n                        </a>*/\n                        return <a\n                            className='button'\n                            onClick={() => props.setID(b)}\n                        >\n                            {b}\n                        </a>\n                    })}\n                </div>\n            </>}\n        </div>\n    );\n}","import * as regexes from './regexes';\n\nexport function isMobile(): boolean {\n\tlet str: string = navigator.userAgent || navigator.vendor || '';\n\tif (regexes.mobile[0].test(str)) return true;\n\tif (regexes.mobile[1].test(str.substr(0, 4))) return true;\n\treturn false;\n}","import React, { ReactElement, useState, useEffect, useReducer, useCallback } from 'react';\n\ninterface TextGalleryProps {\n    children?: JSX.Element[]\n    autoAdvance?: number\n}\n\nexport default function TextGallery(props: TextGalleryProps): ReactElement {\n\n    const [index, setIndex] = useState(0);\n    const [hasClicked, setHasClicked] = useReducer((state: boolean, action: boolean): boolean => {\n        if (action) setTimeout(() => setHasClicked(false), 10000);\n        return action;\n    }, false);\n    let length = props.children ? props.children.length : 0;\n\n    let dots = [] as ReactElement[];\n    let children = props.children || []\n    for (let i = 0; i < children.length; i++) {\n        dots.push(<span\n            key={['textGallery', 'dot', i].join('.')}\n            className={['dot', i === index ? 'dotSelected' : ''].join(' ')}\n            onClick={() => {\n                setIndex(i);\n                setHasClicked(true);\n            }}\n        />);\n    }\n\n    const updateIndex = useCallback(() => {\n        if (!props.autoAdvance) return;\n        let x: NodeJS.Timeout;\n        if (!hasClicked) x = setTimeout(() => setIndex((index + 1) % length), props.autoAdvance);\n        return () => {\n            clearTimeout(x);\n        }\n    }, [index, length, props.autoAdvance, hasClicked]);\n\n    useEffect(updateIndex, [updateIndex]);\n\n    return (\n        <div className='textGallery'>\n            <div className='stage' style={{\n                left: `calc(-100% * ${index})`\n            }}>\n                {children.map((c, i) => <div key={['textGallery', 'child', i].join('.')}>{c}</div>)}\n            </div>\n            <div className='selection'>\n                {dots}\n            </div>\n        </div>\n    );\n}","import React, { useState, useCallback } from 'react';\nimport { Carousel as RRC } from 'react-responsive-carousel';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\nimport Gallery from 'react-photo-gallery';\nimport Lightbox, { Modal, ModalGateway } from 'react-images';\nimport { PhotoProps } from 'react-photo-gallery';\nimport styles from '../css/components.module.css';\nimport url from 'url';\n\ninterface Image extends PhotoProps {\n\tsource: string\n    src: string\n    srcSet: string\n\ttitle: string\n\twidth: number\n\theight: number\n\talt?: string\n    index: number\n}\n\nexport interface AlbumProps {\n\ttype: 'carousel' | 'grid'\n\tenableLightbox: boolean\n\n\tphotos: string[],\n\taxis?: 'vertical' | 'horizontal', //def: horizontal\n\tautoPlay?: boolean //def: true\n\tselectedItem?: number\n\tshowThumbs?: boolean\n\tinterval?: number\n\ttransitionTime?: number\n\tcenterMode?: boolean\n\tdynamicHeight?: boolean\n\n\tmargin?: number\n\ttargetRowHeight?: number\n    ratio: number[]\n    height?: number\n}\n\nexport default function Album(props: AlbumProps) {\n\n    const mapToPhoto = useCallback((src: string, index: number): Image => {\n\t\treturn {\n\t\t\tindex,\n\t\t\tsource: url.resolve(process.env.PUBLIC_URL, src),\n\t\t\tsrc: url.resolve(process.env.PUBLIC_URL, src),\n\t\t\tsrcSet: url.resolve(process.env.PUBLIC_URL, src),\n\t\t\twidth: props.ratio[0],\n\t\t\theight: props.ratio[1],\n\t\t\ttitle: src\n\t\t};\n\t}, [props.ratio])\n\n\tconst [currentImage, setCurrentImage] = useState(0);\n\tconst [viewerIsOpen, setViewerIsOpen] = useState(false);\n\tconst [photos, setPhotos] = useState(props.photos.map(mapToPhoto));\n\n\tconst openLightbox = useCallback((event, { photo, index }) => {\n\t\tsetCurrentImage(index);\n\t\tsetViewerIsOpen(true);\n\t}, []);\n\n\tconst closeLightbox = () => {\n\t\tsetCurrentImage(0);\n\t\tsetViewerIsOpen(false);\n    };\n    \n\treturn (\n\t\t<div\n\t\t\tclassName={props.type === 'grid' ? styles.grid : styles.carousel}\n\t\t>\n\t\t\t{!photos.length ? null : props.type === 'grid' ?\n\t\t\t\t<Gallery\t// Grid\n\t\t\t\t\tphotos={photos}\n\t\t\t\t\tonClick={props.enableLightbox !== false ? openLightbox : () => {}}\n\t\t\t\t\tmargin={props.margin || 2}\n\t\t\t\t\tcolumns={3}\n\t\t\t\t\ttargetRowHeight={props.height || 200}\n\t\t\t\t/> :\n\t\t\t\t<RRC\t\t//React-Reponsive-Carousel\n\t\t\t\t\tonClickItem={props.enableLightbox !== false ? openLightbox : () => {}}\n\t\t\t\t\tinfiniteLoop={true}\n\t\t\t\t\tuseKeyboardArrows={true}\n\t\t\t\t\tshowStatus={false}\n\t\t\t\t\temulateTouch={true}\n\t\t\t\t\taxis={props.axis || 'horizontal'}\n\t\t\t\t\tautoPlay={props.autoPlay !== false}\n\t\t\t\t\twidth={'100%'}\n\t\t\t\t\tselectedItem={props.selectedItem || 0}\n\t\t\t\t\tshowThumbs={props.showThumbs !== false}\n\t\t\t\t\tinterval={props.interval || 4000}\n\t\t\t\t\ttransitionTime={props.transitionTime || 500}\n\t\t\t\t\tcenterMode={props.centerMode || false}\n\t\t\t\t\tdynamicHeight={props.dynamicHeight || true}\n\t\t\t\t>\n\t\t\t\t\t{photos.map((x, i) => {\n\t\t\t\t\t\tif (!x) return null;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={x.src + '.' + i.toString()}>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={x.src}\n\t\t\t\t\t\t\t\t\talt={x.alt}\n\t\t\t\t\t\t\t\t></img>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})}\n\t\t\t\t</RRC>\n\t\t\t}\n\t\t\t{props.enableLightbox !== false ? (\n\t\t\t\t<ModalGateway>\n\t\t\t\t\t{!viewerIsOpen ?  null : (\n\t\t\t\t\t\t<Modal onClose={closeLightbox}>\n\t\t\t\t\t\t\t<Lightbox\n\t\t\t\t\t\t\t\tcurrentIndex={currentImage}\n\t\t\t\t\t\t\t\tviews={photos.map(x => ({\n\t\t\t\t\t\t\t\t\t...x,\n\t\t\t\t\t\t\t\t\tcaption: x.title\n\t\t\t\t\t\t\t\t}))}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t)}\n\t\t\t\t</ModalGateway>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}","import React, { ReactElement, useEffect, useState } from 'react';\nimport './App.css';\nimport Titlebar from './components/Titlebar';\nimport TextGallery from './components/TextGallery';\nimport { FaFacebook, FaLinkedin } from 'react-icons/fa';\nimport Album from './components/Image';\n\nfunction scrollToID({ id }: { id: string }) {\n\n    if (id.toLowerCase() === 'home') window.location.hash = '';\n    else window.location.hash = '#' + id.toLowerCase();\n    let body = document.getElementsByTagName('BODY')[0];\n    if (!body) return;\n    let element = document.getElementById('section-' + id.toLowerCase()) as HTMLDivElement;\n    if (!element) return;\n    window.scrollTo({\n        top: element.offsetTop - (window.innerHeight * 0.12),\n        left: 0,\n        behavior: 'smooth'\n    });\n}\n\nfunction App(): ReactElement {\n\n    let hash = window.location.hash.slice(1);\n    const [id, setID] = useState(hash);\n    let body = document.getElementsByTagName('BODY')[0];\n\n    useEffect(() => {\n        scrollToID({ id })\n    }, [id, body]);\n\n\treturn (\n\t\t<div className='App'>\n            \n            <Titlebar setID={setID} />\n\n            <div id='section-home' className='section' style={{\n                    backgroundColor: '#111111'\n                }}>\n                <div className='subheader' />\n                <Album\n                    type='carousel'\n                    enableLightbox={true}\n                    photos={[\n                        '/images/cover-plain.jpg',\n                        'screenshots/desktop_1.1.0_1.png'\n                    ]}\n                    ratio={[16, 9]}\n                    height={600}\n                />\n            </div>\n\n            <div id='section-features' className='section' style={{\n                    backgroundColor: 'rgb(44, 85, 19)'\n                }}>\n                <div className='subheader'>\n                    Features\n                </div>\n                <div className='subsection'>\n                    <ul>\n                        <li>Fully-featured Desktop app for instant and intuitive results and pairing management</li>\n                        <li>Lightning-fast swiss system implementation</li>\n                        <li><span className='bold'>Mobile app</span> allowing players to submit their results themselves</li>\n                    </ul>\n                <div style={{width: '100%', display: 'flex'}}>And many more standard functions that make your life easier, like:</div>\n                    <ul>\n                        <li>Support for both teams and individuals</li>\n                        <li>Match points and game points submission</li>\n                        <li>Support for players joining and leaving tournaments</li>\n                        <li>Changing points scored for wins, losses, draws, and byes</li>\n                        <li>Performance rating and 'expected score' calculators via the ELO and FIDE systems</li>\n                    </ul>\n                </div>\n                <TextGallery autoAdvance={3000}>\n                    <div>\n                        <h3>Modern</h3>\n                        <p>Built with the latest front-end technologies and constantly updated. Designed to work on any platform, cross-platform. </p>\n                    </div>\n                    <div>\n                        <h3>Functional</h3>\n                        <p>Gone are the days of a single-use single-method platform. Tournament seeks to let tournament creators run things the way they want, providing as many different options and variations as possible to suit their needs.</p>\n                    </div>\n                    <div>\n                        <h3>Intuitive</h3>\n                        <p>Tournament seeks to place everything right where you expect. Any feature you might be looking for there is there, right when you need it.</p>\n                    </div>\n                </TextGallery>\n            </div>\n\n            {/*<div id='section-preview' className='section' style={{\n                    backgroundColor: 'rgb(155, 40, 0)'\n                }}>\n                <div className='subheader'>\n                    Preview\n                </div>\n                <TextGallery autoAdvance={3000}>\n                    <div>\n                        <h3>Modern</h3>\n                        <p>Built with the latest front-end technologies and constantly updated. Designed to work on any platform, cross-platform. </p>\n                    </div>\n                    <div>\n                        <h3>Functional</h3>\n                        <p>Gone are the days of a single-use single-method platform. Tournament seeks to let tournament creators run things the way they want, providing as many different options and variations as possible to suit their needs.</p>\n                    </div>\n                    <div>\n                        <h3>Intuitive</h3>\n                        <p>Tournament seeks to place everything right where you expect. Any feature you might be looking for there is there, right when you need it.</p>\n                    </div>\n                </TextGallery>\n            </div>*/}\n\n            <div id='section-downloads' className='section' style={{\n                    backgroundColor: '#2d132c'\n                }}>\n                <div className='subheader'>\n                    Downloads\n                </div>\n                <div className='subsection'>\n                    <h3>Desktop App</h3>\n                    <p>The desktop (organiser) app of this software is available to beta test.</p>\n                    <div className='installer'>\n                        <img src={process.env.PUBLIC_URL + '/images/online.png'} alt='linux' />\n                        <a className='downloadLink' href={'http://beta.oxfordchess.co.uk/'}>\n                            <div className='downloadTitle'>View online beta</div>\n                            <div>Chrome, Safari, Edge</div>\n                        </a>\n                    </div>\n                    <div className='installer'>\n                        <img src={process.env.PUBLIC_URL + '/images/linux.png'} alt='linux' />\n                        <a className='downloadLink' href={'http://repo.oxfordchess.co.uk/latest/ubuntu.html'}>\n                            <div className='downloadTitle'>↧ .deb</div>\n                            <div>Debian, Ubuntu</div>\n                        </a>\n                    </div>\n                </div>\n                <div className='subsection'>\n                    <h3>Mobile App</h3>\n                    <p>The design of the mobile (player) app of this software has been published online on <a className='inlineLink' href='https://www.figma.com/file/74z1QM0ZdtdF2TrKiiAiFj/toastie-mobile' target='_blank' rel='noopener noreferrer'>Figma</a>. Designed to streamline every part of tournament organisation. Features:</p>\n                    <ul>\n                        <li><span className='bold'>Results submission</span> - let your players fill in the results for you. The app verifies that they both agree on the result and it gets entered into your record! You can confirm it, of course.</li>\n                        <li><span className='bold'>Beam information to your players!</span> - send them round times, announcements, notifications wherever they are so that they're never late for a round again!</li>\n                        <li><span className='bold'>Personalised player view</span> - players can see exactly who their opponents are, what board they're playing on, what room, their colour, and so on</li>\n                        <li><span className='bold'>Chat function</span> - do players have a problem? Now they can just message you immediately through the app. You can refer them onto an FAQ or send them a personalised response!</li>\n                        <li><span className='bold'>Automatic results submission!</span> - playing online or have a PGN stream of their game? On Lichess.org, Chess.com, or Chess24? Just enter that into the results pairing list and Tournament will pick up the results when its over and add it to your record (coming soon).</li>\n                    </ul>\n                    <div className='installer'>\n                        <a className='downloadLink mobile' href={'https://www.figma.com/file/74z1QM0ZdtdF2TrKiiAiFj/toastie-mobile'}>\n                            <div>View mobile design</div>\n                        </a>\n                    </div>\n                </div>\n                <div className='subsection'>\n                    <p>View all versions or download directly at our <a className='inlineLink' href='http;//repo.oxfordchess.co.uk' target='_blank' rel='noopener noreferrer'>\n                            Releases page\n                        </a>\n                    </p>\n                </div>\n            </div>\n            \n            <div id='section-about' className='section' style={{\n                    backgroundColor: 'rgb(80, 5, 5)'\n                }}>\n                <div className='subheader'>\n                    About\n                </div>\n                <p>Aloysius Lip is a 2nd-year undergraduate student at the University of Oxford and the current President of the Oxford University Chess Club. He reads Philosophy, Politics, and Economics, specialising in Microeconomics, Public Economics, and Game Theory. He enjoys programming in his free time, having won the \"OxfordHack\" international coding competition in 2018. His previous projects in the world of chess development have included:</p>\n                <ul>\n                    <li><a className='inlineLink' href='http://users.ox.ac.uk/~chess' target='_blank' rel='noopener noreferrer'>Oxford University Chess Club</a> - the official website for the university society</li>\n                    <li><a className='inlineLink' href='https://npmjs.com/package/ecf' target='_blank' rel='noopener noreferrer'>ECF.JS</a> - the JavaScript wrapper for the ECF grading database that makes it really easy to download rating data from the ECF for any player or club</li>\n                    <li><a className='inlineLink' href='https://npmjs.com/package/lichess' target='_blank' rel='noopener noreferrer'>Lichess.JS</a> - the JavaScript wrapper for the Lichess API</li>\n                    <li><a className='inlineLink' href='https://github.com/theLAZYmd/LAZYbot' target='_blank' rel='noopener noreferrer'>LAZYbot</a> - a Discord bot designed for chess servers</li>\n                </ul>\n                <p>Leave any feedback from the beta deployment of Tournament on <a className='inlineLink' href='https://github.com/Oxford-Chess-Development/toastie-desktop-build/issues' target='_blank' rel='noopener noreferrer'>GitHub</a>. It's super easy to make a GitHub account and you can track the progress on your requests as they're handled! Alternatively, contact Aloysius using one of the below links.</p>\n            </div>\n            <div className='footer'>\n                <div className='icons'>\n                    <a href='https://facebook.com/oxfordchess' target='_blank' rel='noopener noreferrer'>\n                        <FaFacebook />\n                    </a>\n                    <a href='https://linkedin.com/in/aloysiuslip' target='_blank' rel='noopener noreferrer'>\n                        <FaLinkedin />\n                    </a>\n                    <a href='https://aloysiuslip.com' target='_blank' rel='noopener noreferrer'>\n                        <img src={process.env.PUBLIC_URL + '/icons/website.png'} alt='website'/>\n                    </a>\n                    <a href='http://beta.oxfordchess.co.uk/' target='_blank' rel='noopener noreferrer'>\n                        <img src={process.env.PUBLIC_URL + '/icons/desktop.png'} alt='desktop-beta'/>\n                    </a>\n                    <a href='https://www.figma.com/file/74z1QM0ZdtdF2TrKiiAiFj/toastie-mobile' target='_blank' rel='noopener noreferrer'>\n                        <img src={process.env.PUBLIC_URL + '/icons/mobile.png'} alt='mobile-design'/>\n                    </a>\n                    <a href='mailto:aloysius.lip@gmail.com' target='_blank' rel='noopener noreferrer'>\n                        <img src={process.env.PUBLIC_URL + '/icons/email.png'} alt='email'/>\n                    </a>\n                </div>\n                <div className='author'>Copyright 2020, Aloysius Lip</div>\n            </div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n\t\t// [::1] is the IPv6 localhost address.\n\t\twindow.location.hostname === '[::1]' ||\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\n\t\twindow.location.hostname.match(\n\t\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n\t\t)\n);\n\ntype Config = {\n\tonSuccess?: (registration: ServiceWorkerRegistration) => void;\n\tonUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(\n\t\t\tprocess.env.PUBLIC_URL,\n\t\t\twindow.location.href\n\t\t);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// 'Content is cached for offline use.' message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' }\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type');\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\t(contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t);\n\t\t});\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then(registration => {\n\t\t\t\tregistration.unregister();\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.message);\n\t\t\t});\n\t}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"components_grid__48VAo\",\"carousel\":\"components_carousel__1DzUX\"};"],"sourceRoot":""}